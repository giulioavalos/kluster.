<!-- app/views/artists/show.html.erb -->
<h1><%= @artist.name %></h1>

<% if @artist.images.any? %>
  <%= image_tag @artist.images.first["url"], class: "artist-image" %>
<% end %>
<% if Favorite.find_by(user: current_user, spotify_item_id: @artist.id).present? %>
  <%= link_to 'Remove from Favorites', favorite_path(Favorite.find_by(user: current_user, spotify_item_id: @artist.id)), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: 'btn btn-warning' %>
<% else %>
  <%= simple_form_for Favorite.new, url: artist_favorites_url(@artist.id) do |f| %>
    <%= f.submit "Add as favorite" %>
  <% end %>
<% end %>
<h2>Most Popular Tracks (Worldwide):</h2>
<ul>
  <% @artist.top_tracks(:US).first(5).each do |track| %>
    <li><%= track.name %></li>
  <% end %>
</ul>

<h2>Albums:</h2>
<ul>
  <% @artist.albums.first(5).each do |album| %>
    <li><%= link_to album.name, album_path(album.id) %></li>
  <% end %>
  <%= link_to "See More", "/", class: "btn btn-primary" %>
</ul>

<h2>Genres:</h2>
<ul>
  <% @artist.genres.each do |genre| %>
    <li><%= genre %></li>
  <% end %>
</ul>
    <%#= render 'reviews/form', review: @review, type: "artist" %>
